if(ENABLE_DEBUG AND ENABLE_COVERAGE AND ${ENABLE_DEBUG} AND ${ENABLE_COVERAGE})
if(CMAKE_CXX_COMPILER_ID AND ("${CMAKE_CXX_COMPILER_ID}" MATCHES "(Apple)?[Cc]lang"))
set(PROFILE_ARCS_OPT "")
set(TEST_COVERAGE_OPT "")
set(GCOV_LIBRARY "")
else()
set(COLLECT_COVERAGE ON)
set(PROFILE_ARCS_OPT -fprofile-arcs)
set(TEST_COVERAGE_OPT -ftest-coverage)
set(GCOV_LIBRARY gcov)
set(COVERAGE 1)
endif()
else()
set(PROFILE_ARCS_OPT  "")
set(TEST_COVERAGE_OPT "")
set(GCOV_LIBRARY  "")
endif()
